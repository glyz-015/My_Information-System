@{
    var mem = (Myembro)ViewData["mem"];
}

<h2>Edit Member Record</h2>

<form action="/home/Edit" method="post">
  <label for="fname">Name: </label>
  <input type="text" id="id" required placeholder="id" value="@mem.id" name="id" size="30">
  <input type="text" id="fname" required placeholder="First Name" value="@mem.fname" name="fname" size="30">
  <input type="text" id="lname" required placeholder="Last Name" value="@mem.lname" name="lname" size="30"> 
  <input type="text" id="mname" placeholder="Middle Name" value="@mem.mname" name="mname" size="30"> 
  <input type="text" id="suffix" placeholder="Suffix" value="@mem.suffix" name="suffix" size="7"> <br>
  <label for="gender">Gender:</label> 
  <input type="radio" name="gender" value="Male"> Male
  <input type="radio" name="gender" value="Female"> Female 
  <br>
  <label for="bdate">Birthday</label>
  <input type="date" id="bdate" name="bdate" value="@mem.bdate" onChange="onChangeBirthDate(this.form, event.target.value)">
  <label for="age">Age</label>
  <input type="int" id="age" placeholder="Age" value="@mem.age" name="age" size="5">
  <input type="text" id="grp" placeholder="Group" value="@mem.grp" name="grp"> <br> 
  <label for="contact">Contact: </label>
  <input type="text" id="contact" placeholder="Phone Number" value="@mem.contact" name="contact" size="50"> <br>

  <label for="email">Email: </label>
  <input type="text" id="email" placeholder="Email Address" value="@mem.email" name="email" size="50"> <br>
  <label for="address">Address: </label>
  <input type="text" id="address" placeholder="Address" value="@mem.address" name="address" size="50"> <br>
  <label for="group">Status:</label> 
  <input type="radio" name="stat" value="Member"> Member
  <input type="radio" name="stat" value="Visitor"> Visitor <br>

  <label for="maritalstatus">Marital Status</label>
  <input type="radio" name="marital" value="Single"> Single <br>
  <input type="radio" name="marital" value="Married"> Married <br>
  <input type="radio" name="marital" value="Widow"> Widow <br>

  <label for="anniv">Wedding Anniversary</label>
  <input type="date" id="anniv" value="@mem.anniv" name="anniv"><br>
  <label for="husband" >Husband Name: </label>
  <input type="text" id="husband" placeholder="Husband Name" value="@mem.husbandname" name="husband" size="50"> <br>
  <label for="wife">Wife Name: </label>
  <input type="text" id="wife" placeholder="Wife Name" value="@mem.wifename" name="wife" size="50"> <br>
  
    <div class="form-group">
    <label for="children">Children(s)</label>
    <textarea class="form-control" id="children" value="@mem.children" rows="3"></textarea>
  </div><br>
  <br>
  <br>

  <label for="dod">Date of Death</label>
  <input type="date" id="dod" name="dod"><br>
<br>
<br>


  <button onclick="alert ('SAVED!')" type="submit">Save</button>
  <button type="reset">Clear</button>
</form>


<script>
    onChangeBirthDate = function(form, bdate) {
        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
        var birthDate = new Date(bdate);
        var today = new Date();
        const diffDays = Math.round(Math.abs((birthDate - today) / oneDay));
        form.age.value = Math.round(diffDays / 365);
        setGroup(form.age.value, form);
    }
    setGroup = function(age, form) {
        if(age >= 0 && age <= 13){
            form.grp.value = 'Children';
        } else if(age > 13 && age <= 26){
            form.grp.value = 'Youth';
        } else if(age > 26 && age <= 40){
            form.grp.value = 'Young adult';
        }
        if(age > 40 && form.gender.value === 'male') {
            form.grp.value = 'Men';
        }
        if(age > 40 && form.gender.value === 'female') {
            form.grp.value = 'Women'
        }
        if(age > 40 && !form.gender.value) {
            form.grp.value = '';
        }
    }
</script>